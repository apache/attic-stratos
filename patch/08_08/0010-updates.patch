From f7df4b2e41f2974c5aaf607fe22b71c874bfeda7 Mon Sep 17 00:00:00 2001
From: gayan <gayan@puppet.gayan.org>
Date: Wed, 6 Aug 2014 15:47:23 +0530
Subject: [PATCH 10/30] updates

---
 .../org/apache/stratos/metadataservice/services/MetaDataAdmin.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/components/org.apache.stratos.metadataservice/src/main/java/org/apache/stratos/metadataservice/services/MetaDataAdmin.java b/components/org.apache.stratos.metadataservice/src/main/java/org/apache/stratos/metadataservice/services/MetaDataAdmin.java
index 72e3cbb..086ec86 100644
--- a/components/org.apache.stratos.metadataservice/src/main/java/org/apache/stratos/metadataservice/services/MetaDataAdmin.java
+++ b/components/org.apache.stratos.metadataservice/src/main/java/org/apache/stratos/metadataservice/services/MetaDataAdmin.java
@@ -60,7 +60,7 @@ public class MetaDataAdmin {
 
 		String gregUsername = conf.getString("metadataservice.username", defaultUsername);
 		String gregPassword = conf.getString("metadataservice.password", defaultPassword);
-
+		String gregServerURL = conf.getString("metadataservice.serverurl", serverURL);
 		System.setProperty("javax.net.ssl.trustStore", "repository" + File.separator + "resources" +
 		                                               File.separator + "security" +
 		                                               File.separator + "wso2carbon.jks");
@@ -70,7 +70,7 @@ public class MetaDataAdmin {
 		configContext =
 		                ConfigurationContextFactory.createConfigurationContextFromFileSystem(axis2Repo,
 		                                                                                     axis2Conf);
-		return new WSRegistryServiceClient(serverURL, gregUsername, gregPassword, configContext);
+		return new WSRegistryServiceClient(gregServerURL, gregUsername, gregPassword, configContext);
 	}
 
 	@POST
-- 
1.9.1

